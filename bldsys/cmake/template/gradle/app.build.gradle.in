plugins {
	id 'com.android.application'
}

android {
	compileSdk 32

	defaultConfig {
		applicationId "com.khronos.vulkan_samples"
		@MIN_SDK_VERSION@
		targetSdk 32
		versionCode 1
		versionName "1.0"

		externalNativeBuild {
			@CMAKE_ARGUMENTS@
		}
	}

	buildTypes {
		debug {
			debuggable true
			jniDebuggable true
		}

		release {
			minifyEnabled false
			proguardFiles getDefaultProguardFile('proguard-android-optimize.txt')
			signingConfig debug.signingConfig
		}
	}

	flavorDimensions "assets"
	productFlavors {
        sync {
            dimension "assets"
            versionNameSuffix "-sync"

            externalNativeBuild {
                @CMAKE_ASSETS_SYNC_ARGUMENTS@
            }
        }

        bundle {
            dimension "assets"
            versionNameSuffix "-bundle"

            externalNativeBuild {
                @CMAKE_ASSETS_BUNDLE_ARGUMENTS@
            }
        }
    }

	compileOptions {
		sourceCompatibility JavaVersion.VERSION_1_8
		targetCompatibility JavaVersion.VERSION_1_8
	}

	sourceSets {
		main {
			@RES_SRC_DIRS@
			@JAVA_SRC_DIRS@
			@JNI_LIBS_SRC_DIRS@
			@MANIFEST_FILE@

			jniLibs.srcDirs += ["$ndkDirectory/sources/third_party/vulkan/src/build-android/jniLibs"]
		}
	}

	externalNativeBuild {
		@CMAKE_PATH@
	}

	lintOptions {
		checkReleaseBuilds false
		abortOnError false
	}

	buildFeatures {
		viewBinding true
	}

	bundle {
        @ASSETS_SRC_DIRS@
    }

    sync {
        @ASSETS_SYNC_MANIFEST_FILE@
    }
}

dependencies {
	implementation 'androidx.appcompat:appcompat:1.3.0'
	implementation 'com.google.android.material:material:1.4.0'
	implementation 'androidx.constraintlayout:constraintlayout:2.0.4'
}